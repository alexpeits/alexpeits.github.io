clsWhenLight="dark-mode-disabled",clsWhenDark="dark-mode-enabled",btnId="dark-mode-toggle",faIcon="fa-moon",storeKey="dark-mode",systemPrefersMatch="(prefers-color-scheme: dark)";function updateIcon(e){btn=document.getElementById(btnId),e?(btn.classList.remove(clsWhenLight),btn.classList.add(clsWhenDark)):(btn.classList.remove(clsWhenDark),btn.classList.add(clsWhenLight))}function toggleDarkMode(){attr=document.documentElement.getAttribute("data-theme"),darkMode=attr==="dark",darkMode?(setLightMode(),updateIcon(!1),setPicturesThemed("light"),setUserPreference(!1)):(setDarkMode(),updateIcon(!0),setPicturesThemed("dark"),setUserPreference(!0))}function setUserPreference(e){pref=e?"true":"false",sessionStorage.setItem(storeKey,pref)}function clearUserPreference(){sessionStorage.removeItem(storeKey)}function userPrefersDarkMode(){return darkMode=sessionStorage.getItem(storeKey),darkMode==="true"}function userPrefersLightMode(){return darkMode=sessionStorage.getItem(storeKey),darkMode==="false"}function setDarkMode(){document.documentElement.setAttribute("data-theme","dark")}function setLightMode(){document.documentElement.removeAttribute("data-theme")}function shouldDarkMode(){return!!userPrefersDarkMode()||!userPrefersLightMode()&&!!window.matchMedia(systemPrefersMatch).matches}function resetPicturesThemed(){document.querySelectorAll("source[data-cloned-theme='true']").forEach(e=>{e.remove()})}function setPicturesThemed(e=void 0){resetPicturesThemed(),document.querySelectorAll(`picture > source[media*="(prefers-color-scheme: ${e})"]`).forEach(t=>{const e=t.cloneNode();e.removeAttribute("media"),e.setAttribute("data-cloned-theme","true"),t.parentNode.prepend(e)})}shouldDarkMode()?setDarkMode():setLightMode(),window.onload=function(){shouldDarkMode()?(updateIcon(!0),setPicturesThemed("dark")):(updateIcon(!1),setPicturesThemed("light")),window.matchMedia(systemPrefersMatch).addEventListener("change",e=>{e.matches?(clearUserPreference(),setDarkMode(),resetPicturesThemed(),updateIcon(!0)):(clearUserPreference(),setLightMode(),resetPicturesThemed(),updateIcon(!1))})}